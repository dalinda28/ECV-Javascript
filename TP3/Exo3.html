<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TP3 - Exercice 3</title>
</head>
<style>

</style>
<body>

</body>

<script>
    let number = Math.floor(Math.random() * (15 - 5) + 5);

    for (let i = 0; i <= number; i++){
        const myDiv = document.createElement('div'); 
        myDiv.style.width = '100%';
        myDiv.style.height = '50px';
        
        let r = Math.floor(256*Math.random());
        let g = Math.floor(256*Math.random());
        let b = Math.floor(256*Math.random());
        myDiv.style.backgroundColor = "rgba(" + r + "," + g + "," + b + ",1)";
       
        document.getElementsByTagName("body")[0].appendChild(myDiv);

    }

    let div = Array.from(document.getElementsByTagName('div'));
    
    for (let i = 0 ; i < number; i++) {
        let previousColor = div[i].style.backgroundColor;
        console.log(previousColor);

        div[i].addEventListener('click', function onClick(event) { 
            event.target.style.backgroundColor != 'red' ? event.target.style.backgroundColor = 'red' : event.target.style.backgroundColor = previousColor      
        });
    }
</script>
</html>